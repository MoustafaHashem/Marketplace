{% extends 'base.html' %}
{% load static %}

{% block title %}{{ product.name }}{% endblock %}

{% block navbar %}
    {% if user.is_authenticated %}
        {% include 'parts/navbarwithoutforms.html' %}
    {% else %}
        {% include 'parts/navbar.html' %}
    {% endif %}
{% endblock %}

{% block content %}
{% if messages %}
    <div class="messages">
        {% for message in messages %}
            <div class="alert {{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
{% endif %}
<link rel="stylesheet" href="{% static 'css/item.css' %}">
<div class="item-detail">
    <div class="item-image">
        <img src="{{ product.image.url }}" alt="{{ product.name }}">
    </div>
    <div class="item-info">
        <h1>{{ product.name }}</h1>
        <p class="price">Price: ${{ product.price }}</p>
        <p>Description: {{ product.description }}</p>
        <p>Category: {{ product.category }}</p>
        <p>Created By: {{ product.owned_by }}</p>
        <p>Created At: {{ product.created_at }}</p>
        <p>Available Quantity: {{ product.quantity }}</p>

        <form action="{% url 'add_to_cart' %}" method="get" class="add-to-cart-form">
            <div class="form-group">
                <label for="quantity-{{ product.id }}">Amount:</label>
                <input type="number" id="quantity-{{ product.id }}" name="quantity" min="1" max="{{ product.quantity }}" value="1">
                <input type="hidden" name="product_id" value="{{ product.id }}">
            </div>
            <button type="submit" class="btn-primary">Add to Cart</button>
        </form>
    </div>
</div>
{% endblock content %}
